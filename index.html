<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Testsite — Dimensio</title>

  <!-- n8n chat widget styles (default thema/kleuren) -->
  <link href="https://cdn.jsdelivr.net/npm/@n8n/chat/dist/style.css" rel="stylesheet" />

  <style>
    /* Full-screen achtergrondafbeelding */
    html, body { height: 100%; margin: 0; }
    body { background: #000; }
    .full { position: fixed; inset: 0; overflow: hidden; }
    .full > img {
      width: 100%; height: 100%;
      object-fit: cover; object-position: center;
      display: block; user-select: none; -webkit-user-drag: none;
    }

    /* Widget-afmetingen via CSS-variabelen (n8n leest deze) */
    :root {
      --chat--window--width: 420px;
      --chat--window--height: 600px;

      /* header kleur aanpassen */
      --chat--header--background: #987E60;
    }

    /* Overlay om muis-events te vangen tijdens resize */
    .dim-resize-capture {
      position: fixed;
      inset: 0;
      z-index: 2147483646;
      display: none;
      cursor: default;
    }
    .dim-resize-capture.is-active { display: block; }

    /* Onzichtbare/lichte resize-handles (we injecteren ze in de chat-window) */
    .dim-handle {
      position: absolute;
      z-index: 2147483647;
      background: transparent;
      opacity: 1;
      pointer-events: auto;
    }
    /* linkerrand (W) */
    .dim-handle-w {
      top: 0; left: 0; width: 10px; height: 100%;
      cursor: ew-resize;
    }
    /* bovenrand (N) */
    .dim-handle-n {
      top: 0; left: 0; width: 100%; height: 10px;
      cursor: ns-resize;
    }
    /* hoek links-boven (NW) – met subtiele visuele grip */
    .dim-handle-nw {
      top: 0; left: 0; width: 18px; height: 18px;
      cursor: nwse-resize;
    }
    /* De grip zelf: twee diagonale lijntjes (semi-transparant), klik-/dragbaar via de handle. */
    .dim-handle-nw::after {
      content: "";
      position: absolute;
      left: 3px; top: 3px;
      width: 12px; height: 12px;
      opacity: .6; /* subtiel */
      pointer-events: none; /* laat muis-events door naar de handle */
      background-repeat: no-repeat;
      background-size: 12px 12px;
      /* inline SVG, wit met afgeronde hoeken */
      background-image: url('data:image/svg+xml;utf8,\
<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\
<path d="M10.5 1.5 L1.5 10.5 M7.5 1.5 L1.5 7.5" stroke="white" stroke-width="1.5" stroke-linecap="round" opacity="1"/>\
</svg>');
    }
    .dim-handle-nw:hover::after { opacity: .9; } /* iets duidelijker bij hover */

    /* Toetsenbord focus indicator (toegankelijkheid) */
    .dim-handle:focus-visible {
      outline: 2px dashed rgba(255,255,255,.35);
      outline-offset: 2px;
    }

    /* Optioneel: wat ruimte op mobiel */
    @media (max-width: 480px) {
      body { padding-bottom: 72px; }
    }
  </style>
</head>
<body>
  <div class="full">
    <img src="BackgroundImage.png" alt="Dimensio" />
  </div>

  <!-- Mountpunt voor de widget -->
  <div id="n8n-chat"></div>

  <!-- Overlay die muis-events opvangt tijdens resizen -->
  <div class="dim-resize-capture" id="dim-resize-capture"></div>

  <!-- Chat init -->
  <script type="module" src="chat.js?v=5"></script>
</body>
</html>
